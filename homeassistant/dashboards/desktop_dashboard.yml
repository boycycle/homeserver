kiosk_mode:
  entity_settings:
    - entity:
        input_boolean.kiosk_mode: 'on'
      hide_header: true
      hide_menubutton: true
      kiosk: true
    - entity:
        input_boolean.kiosk_mode: 'off'
      hide_header: false
      hide_menubutton: false
      Kiosk: true
button_card_templates:
  entity:
    show_state: true
    tap_action:
      action: more-info
      haptic: medium
    state:
      - value: 'on'
        styles:
          card:
            - background-color: var(--yellow)
            - box-shadow: none
          icon:
            - color: var(--black)
          name:
            - color: var(--black)
          label:
            - color: var(--black)
            - opacity: '0.5'
      - value: 'off'
        styles:
          card:
            - background: var(--contrast2)
            - box-shadow: none
          icon:
            - width: 24px
            - color: var(--contrast20)
          name:
            - color: var(--contrast20)
          label:
            - color: var(--contrast9)
    styles:
      grid:
        - grid-template-columns: 33% auto 33%
        - grid-template-rows: 34% 16% 25% 25%
        - grid-template-areas: |
            "i i i"
            ". . ."
            "s s s"
            "n n n"
      icon:
        - width: 26px
        - margin-left: '-0.5%'
        - margin-top: 1%
      img_cell:
        - justify-content: flex-start
        - margin-top: '-4px'
      state:
        - justify-self: start
        - font-size: 14px
        - font-weight: 700
        - margin-bottom: 0px
      card:
        - height: 100px
        - border-radius: 24px
        - padding: 12px 0 12px 14px
        - box-sizing: border-box
        - '--mdc-ripple-press-opacity': 0
      name:
        - justify-self: start
        - font-size: 12px
views:
  - type: sections
    max_columns: 3
    dense_section_placement: false
    path: Home
    title: Home
    visible:
      - user: 40587fc0322b4129884846b1e430f37a
    sections:
      - type: grid
        cards:
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                title: Lighting
                cards:
                  - type: custom:mushroom-template-card
                    primary: Lighting
                    secondary: >-
                      {% set light1 = states('light.shane_lamp_bulb') %} {% set
                      light2 = states('light.hall_lamp_bulb') %} {% set count =
                      0 %} {% if light1 == 'on' %}{% set count = count + 1 %}{%
                      endif %} {% if light2 == 'on' %}{% set count = count + 1
                      %}{% endif %} {{ count }} lights on
                    icon: mdi:lightbulb
                    icon_color: >-
                      {% set light1 = states('light.shane_lamp_bulb') %} {% set
                      light2 = states('light.hall_lamp_bulb') %} {% if light1 ==
                      'on' or light2 == 'on' %}
                        amber
                      {% else %}
                        disabled
                      {% endif %}
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.toggle_lights
                    hold_action:
                      action: more-info
                    double_tap_action:
                      action: call-service
                      service: script.toggle_living_hall_lights_together
                    fill_container: false
                    card_mod:
                      style: |
                        ha-card {
                          border: none;
                          box-shadow: none;
                          background: none;
                        }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.toggle_lights
                        state: 'on'
                    card:
                      type: grid
                      columns: 2
                      square: false
                      grid_options:
                        columns: 6
                        rows: 2
                      cards:
                        - type: custom:button-card
                          name: Shane's Lamp
                          entity: light.shane_lamp_bulb
                          size: 40%
                          show_state: true
                          aspect_ratio: 1/1
                          tap_action:
                            action: toggle
                          hold_action:
                            action: more-info
                          styles:
                            name:
                              - font-size: 12px
                              - padding-bottom: 3px !important
                            state:
                              - font-size: 18px
                              - padding-bottom: 8px !important
                          state:
                            - value: 'on'
                              styles:
                                card:
                                  - background-color: var(--primary-text-color)
                                name:
                                  - color: '#263238'
                                state:
                                  - color: '#263238'
                                icon:
                                  - color: |
                                      [[[
                                        if (entity.attributes.rgb_color) {
                                          return `rgb(${entity.attributes.rgb_color.join(',')})`;
                                        }
                                        return 'black';
                                      ]]]
                        - type: custom:button-card
                          name: Hall Lamp
                          entity: light.hall_lamp_bulb
                          size: 40%
                          show_state: true
                          aspect_ratio: 1/1
                          tap_action:
                            action: toggle
                          hold_action:
                            action: more-info
                          styles:
                            name:
                              - font-size: 12px
                              - padding-bottom: 3px !important
                            state:
                              - font-size: 18px
                              - padding-bottom: 8px !important
                          state:
                            - value: 'on'
                              styles:
                                card:
                                  - background-color: var(--primary-text-color)
                                name:
                                  - color: '#263238'
                                state:
                                  - color: '#263238'
                                icon:
                                  - color: |
                                      [[[
                                        if (entity.attributes.rgb_color) {
                                          return `rgb(${entity.attributes.rgb_color.join(',')})`;
                                        }
                                        return 'black';
                                      ]]]
              - type: grid
                square: false
                title: Controls
                cards:
                  - type: custom:mushroom-entity-card
                    entity: switch.gate_shelly
                    name: Gate
                    icon: mdi:gate
                    fill_container: true
                    tap_action:
                      action: toggle
                    icon_color: '#FF5449'
                    card_mod:
                      style: |
                        ha-card {
                          border: none;
                          box-shadow: none;
                          background: none;
                        }
                columns: 1
                grid_options:
                  columns: 6
                  rows: 2
                view_layout:
                  grid-area: quick actions
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:mushroom-climate-card
                    entity: climate.living_room_bt
                    name: Living Room
                    icon: mdi:television
                    fill_container: false
                    hvac_modes:
                      - heat
                      - 'off'
                    show_temperature_control: false
                    hold_action:
                      action: more-info
                    double_tap_action:
                      action: toggle
                    tap_action:
                      action: none
                  - type: custom:mushroom-climate-card
                    entity: climate.primary_bedroom_bt
                    name: Primary Bedroom
                    icon: mdi:bed-king-outline
                    fill_container: false
                    hvac_modes:
                      - heat
                      - 'off'
                    show_temperature_control: false
                    tap_action:
                      action: none
                    hold_action:
                      action: more-info
                    double_tap_action:
                      action: toggle
                  - type: custom:mushroom-climate-card
                    name: Office
                    icon: mdi:office-building-outline
                    fill_container: false
                    hvac_modes:
                      - heat
                      - 'off'
                    show_temperature_control: false
                    tap_action:
                      action: none
                    hold_action:
                      action: more-info
                    double_tap_action:
                      action: toggle
                    entity: climate.bt_office
              - type: vertical-stack
                cards:
                  - type: custom:mushroom-climate-card
                    name: Kitchen
                    icon: mdi:stove
                    fill_container: false
                    hvac_modes:
                      - heat
                      - 'off'
                    show_temperature_control: false
                    tap_action:
                      action: none
                    hold_action:
                      action: more-info
                    double_tap_action:
                      action: toggle
                    entity: climate.bt_kitchen
                  - type: custom:mushroom-climate-card
                    entity: climate.guest_bedroom_bt
                    name: Guest Bedroom
                    icon: mdi:bed-double-outline
                    fill_container: false
                    hvac_modes:
                      - heat
                      - 'off'
                    show_temperature_control: false
                    tap_action:
                      action: none
                    hold_action:
                      action: more-info
                    double_tap_action:
                      action: toggle
            title: Heating
          - square: false
            type: grid
            cards:
              - type: custom:mushroom-template-card
                entity: device_tracker.sd_iphone_14_pro_max
                primary: Shane's iPhone
                secondary: >
                  {% set battery =
                  states('sensor.sd_iphone_14_pro_max_battery_level') %}

                  {% set location = 'Home' if is_state(entity, 'home') else
                  'Away' %}

                  {{ location }} â€¢ {{ battery }}%
                icon: mdi:cellphone
                icon_color: |
                  {% if is_state(entity, 'home') %}
                    green
                  {% else %}
                    gray
                  {% endif %}
                layout: horizontal
                tap_action:
                  action: more-info
                badge_icon: >
                  {% set battery_level_str =
                  states('sensor.sd_iphone_14_pro_max_battery_level') %} {% set
                  state = states('sensor.sd_iphone_14_pro_max_battery_state') %}
                  {% if state == 'Charging' %}
                    mdi:battery-charging-outline
                  {% elif battery_level_str not in ['unknown', 'unavailable']
                  and battery_level_str | int(0) < 30 %}
                    mdi:battery-alert-variant-outline
                  {% endif %}
                badge_color: >
                  {% set battery_level_str =
                  states('sensor.sd_iphone_14_pro_max_battery_level') %} {% set
                  state = states('sensor.sd_iphone_14_pro_max_battery_state') %}
                  {% if state == 'Charging' %}
                    blue
                  {% elif battery_level_str not in ['unknown', 'unavailable']
                  and battery_level_str | int(0) < 30 %}
                    red
                  {% endif %}
                card_mod:
                  style: |
                    ha-card {
                      border: none;
                      box-shadow: none;
                      background: none;
                    }
            columns: 1
            title: Devices
            grid_options:
              columns: 6
              rows: auto
            view_layout:
              grid-area: lights
          - type: custom:navbar-card
            iphone: null
            show_labels: true
            desktop: null
            position: left
            min_width: 768
            layout: null
            auto_padding: true
            routes:
              - url: /dashboard-iphone/Home
                icon: mdi:home
                icon_selected: mdi:home-variant
                label: Home
              - url: /dashboard-iphone/Climate
                icon: mdi:radiator
                label: Climate
              - url: /dashboard-iphone/System
                icon: mdi:server
                label: Proxmox
              - url: /dashboard-iphone/timeflows
                icon: mdi:timer
                label: Timeflows
            mobile:
              mode: floating
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.living_room_temphumid_temperature
                    hours_to_show: 8
                    points_per_hour: 2
                    name: Living Room
                    color_thresholds:
                      - value: 10
                        color: '#126cf3'
                      - value: 15
                        color: '#4da6f3'
                      - value: 17.5
                        color: '#f3a712'
                      - value: 19
                        color: '#f36f12'
                      - value: 21
                        color: '#f34512'
                      - value: 23
                        color: '#f31212'
                    color_thresholds_transition: true
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.toggle_living_room_bt
                    show:
                      labels: false
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.kitchen_average_temperature
                    hours_to_show: 8
                    points_per_hour: 2
                    name: Kitchen
                    color_thresholds:
                      - value: 10
                        color: '#126cf3'
                      - value: 15
                        color: '#4da6f3'
                      - value: 17.5
                        color: '#f3a712'
                      - value: 19
                        color: '#f36f12'
                      - value: 21
                        color: '#f34512'
                      - value: 23
                        color: '#f31212'
                    color_thresholds_transition: true
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.toggle_kitchen_bt
                    show:
                      labels: false
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.toggle_living_room_bt
                        state: 'on'
                    card:
                      type: custom:better-thermostat-ui-card
                      entity: climate.living_room_bt
                      name: Living Room
                      disable_window: true
                      disable_summer: true
                      disable_eco: true
                      disable_off: false
                      disable_buttons: false
                      set_current_as_main: true
                      disable_menu: true
                      disable_heat: false
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.toggle_kitchen_bt
                        state: 'on'
                    card:
                      type: custom:better-thermostat-ui-card
                      name: Kitchen
                      disable_window: true
                      disable_summer: true
                      disable_eco: true
                      disable_off: false
                      disable_buttons: false
                      set_current_as_main: true
                      disable_menu: true
                      disable_heat: false
                      entity: climate.bt_kitchen
              - type: horizontal-stack
                cards:
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.primary_bedroom_temphumid_temperature
                    hours_to_show: 8
                    points_per_hour: 2
                    name: Primary Bedroom
                    color_thresholds:
                      - value: 10
                        color: '#126cf3'
                      - value: 15
                        color: '#4da6f3'
                      - value: 17.5
                        color: '#f3a712'
                      - value: 19
                        color: '#f36f12'
                      - value: 21
                        color: '#f34512'
                      - value: 23
                        color: '#f31212'
                    color_thresholds_transition: true
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.toggle_primary_bedroom_bt
                    show:
                      labels: false
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.guest_bedroom_temperature
                    hours_to_show: 8
                    points_per_hour: 2
                    name: Guest Bedroom
                    color_thresholds:
                      - value: 10
                        color: '#126cf3'
                      - value: 15
                        color: '#4da6f3'
                      - value: 17.5
                        color: '#f3a712'
                      - value: 19
                        color: '#f36f12'
                      - value: 21
                        color: '#f34512'
                      - value: 23
                        color: '#f31212'
                    color_thresholds_transition: true
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.toggle_guest_bedroom_bt
                    show:
                      labels: false
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.toggle_primary_bedroom_bt
                        state: 'on'
                    card:
                      type: custom:better-thermostat-ui-card
                      name: Primary Bedroom
                      disable_window: true
                      disable_summer: true
                      disable_eco: true
                      disable_off: false
                      disable_buttons: false
                      set_current_as_main: true
                      disable_menu: true
                      disable_heat: false
                      entity: climate.primary_bedroom_bt
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.toggle_guest_bedroom_bt
                        state: 'on'
                    card:
                      type: custom:better-thermostat-ui-card
                      name: Guest Bedroom
                      disable_window: true
                      disable_summer: true
                      disable_eco: true
                      disable_off: false
                      disable_buttons: false
                      set_current_as_main: true
                      disable_menu: true
                      disable_heat: false
                      entity: climate.guest_bedroom_bt
              - type: horizontal-stack
                cards:
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.office_temphumid_temperature
                    hours_to_show: 8
                    points_per_hour: 2
                    name: Office
                    color_thresholds:
                      - value: 10
                        color: '#126cf3'
                      - value: 15
                        color: '#4da6f3'
                      - value: 17.5
                        color: '#f3a712'
                      - value: 19
                        color: '#f36f12'
                      - value: 21
                        color: '#f34512'
                      - value: 23
                        color: '#f31212'
                    color_thresholds_transition: true
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.toggle_office_bt
                    show:
                      labels: false
                  - type: custom:mini-graph-card
                    entities: []
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.toggle_office_bt
                        state: 'on'
                    card:
                      type: custom:better-thermostat-ui-card
                      name: Office
                      disable_window: true
                      disable_summer: true
                      disable_eco: true
                      disable_off: false
                      disable_buttons: false
                      set_current_as_main: true
                      disable_menu: true
                      disable_heat: false
                      entity: climate.office_bt
            title: Climate Control
          - square: false
            type: grid
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    entity: weather.pirateweather
                    show_name: false
                    show_icon: false
                    custom_fields:
                      icon: |
                        [[[
                          var weather = states["weather.pirateweather"].state;
                          if (states['weather.pirateweather'].state == 'partlycloudy' && states['sun.sun'].state == 'below_horizon') {
                            return `<img src="/local/weather_icons/partly-cloudy-night.svg" width="90" height="90" />`
                          } else {
                            return `<img src="/local/weather_icons/${weather}.svg" width="90" height="90" />`
                          }
                        ]]]
                      temp: |
                        [[[
                          return states['weather.pirateweather'].attributes.temperature + 'Â°c'
                        ]]]
                      cond: |
                        [[[
                          var time = states["weather.pirateweather"].state;
                          if (time == 'clear-night'){
                            return 'Clear';
                          } else if (time == 'clear'){
                            return 'Sunny';
                          } else if (time == 'partlycloudy'){
                            return 'Partly Cloudy';
                          } else {
                            return states["weather.pirateweather"].state;
                          }
                        ]]]
                    styles:
                      card:
                        - position: relative
                        - height: 120pt
                      custom_fields:
                        icon:
                          - position: absolute
                          - top: 30%
                          - left: 50%
                          - right: 50%
                          - transform: translate(-50%, -50%)
                          - width: 90px
                          - height: 90px
                        temp:
                          - position: absolute
                          - top: 64%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - width: 100%
                          - text-align: center
                          - font-size: 23pt
                          - font-weight: 700
                        cond:
                          - position: absolute
                          - top: 80%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - width: 100%
                          - text-align: center
                          - font-size: 10pt
                          - text-transform: capitalize
                  - type: custom:button-card
                    entity: weather.pirateweather
                    show_name: false
                    show_icon: false
                    custom_fields:
                      icon_humidity: >
                        <ha-icon icon="mdi:water-outline" style="width:60px;
                        height:60px;"></ha-icon>
                      humidity: |
                        [[[
                          return states["weather.pirateweather"].attributes.humidity + '%'
                        ]]]
                    styles:
                      card:
                        - position: relative
                        - height: 120pt
                      custom_fields:
                        icon_humidity:
                          - position: absolute
                          - top: 35%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                        humidity:
                          - position: absolute
                          - top: 70%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - font-size: 18pt
                          - font-weight: 600
                  - type: custom:button-card
                    entity: weather.pirateweather
                    show_name: false
                    show_icon: false
                    custom_fields:
                      icon_wind: >
                        <ha-icon icon="mdi:weather-windy" style="width:40px;
                        height:40px;"></ha-icon>
                      wind: |
                        [[[
                          let myNumber = states["weather.pirateweather"].attributes.wind_speed;
                          return `${Math.round(myNumber)} km/h`;
                        ]]]
                    styles:
                      card:
                        - position: relative
                        - height: 120pt
                      custom_fields:
                        icon_wind:
                          - position: absolute
                          - top: 35%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                        wind:
                          - position: absolute
                          - top: 70%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - font-size: 18pt
                          - font-weight: 600
            columns: 1
            title: Weather
            view_layout:
              grid-area: lights
          - type: custom:button-card
            name: Looks like you've reached the end ðŸ‘€
            styles:
              card:
                - background: none
                - box-shadow: none
                - border: none
              name:
                - opacity: 60%
                - font-size: 16px
      - type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:vertical-stack-in-card
                cards:
                  - type: custom:button-card
                    template: entity
                    entity: sensor.system_monitor_processor_use
                    name: CPU Usage
                    styles:
                      card:
                        - height: 100px
                        - padding: 12px 16px
                        - background: var(--card-background-color)
                        - border-radius: 12px 12px 0 0
                        - box-shadow: none
                        - border: none
                      name:
                        - font-size: 16px
                        - color: var(--primary-text-color)
                      state:
                        - font-size: 15px
                        - padding-top: 19px
                        - padding-bottom: 19px
                  - type: custom:mini-graph-card
                    entities:
                      - entity: sensor.system_monitor_processor_use
                    show:
                      name: false
                      icon: false
                      state: false
                      labels: false
                    line_width: 3
                    hours_to_show: 2
                    points_per_hour: 5
                    line_color: '#F9EA9A'
                    animate: true
              - type: custom:vertical-stack-in-card
                cards:
                  - type: custom:button-card
                    template: entity
                    entity: sensor.system_monitor_memory_usage
                    state_display: |
                      [[[
                        return states['sensor.system_monitor_memory_usage'].state + '%'
                      ]]]
                    name: Memory Usage
                    styles:
                      card:
                        - height: 100px
                        - padding: 12px 16px
                        - background: var(--card-background-color)
                        - border-radius: 12px 12px 0 0
                        - box-shadow: none
                        - border: none
                      name:
                        - font-size: 16px
                        - color: var(--primary-text-color)
                      state:
                        - font-size: 15px
                        - padding-top: 19px
                        - padding-bottom: 19px
                  - type: custom:mini-graph-card
                    entities:
                      - entity: sensor.system_monitor_memory_usage
                    show:
                      name: false
                      icon: false
                      state: false
                      labels: false
                    line_width: 3
                    hours_to_show: 2
                    points_per_hour: 5
                    line_color: '#F2CEE6'
                    animate: true
                    style: ''
              - type: custom:vertical-stack-in-card
                cards:
                  - type: custom:button-card
                    template: entity
                    entity: sensor.system_monitor_load_15_min
                    name: Load (15 MIns)
                    styles:
                      card:
                        - height: 100px
                        - padding: 12px 16px
                        - background: var(--card-background-color)
                        - border-radius: 12px 12px 0 0
                        - box-shadow: none
                        - border: none
                      name:
                        - font-size: 16px
                        - color: var(--primary-text-color)
                      state:
                        - font-size: 15px
                        - padding-top: 19px
                        - padding-bottom: 19px
                  - type: custom:mini-graph-card
                    entities:
                      - entity: sensor.system_monitor_load_15_min
                    show:
                      name: false
                      icon: false
                      state: false
                      labels: false
                    line_width: 3
                    hours_to_show: 2
                    points_per_hour: 5
                    line_color: '#C3DBC5'
                    animate: true
              - type: custom:vertical-stack-in-card
                cards:
                  - type: custom:button-card
                    template: entity
                    entity: sensor.system_monitor_disk_usage
                    state_display: |
                      [[[
                        return states['sensor.system_monitor_disk_usage'].state + ' %'
                      ]]]
                    name: Storage Used
                    icon: mdi:harddisk
                    styles:
                      card:
                        - height: 100px
                        - padding: 12px 16px
                        - background: var(--card-background-color)
                        - border-radius: 12px 12px 0 0
                        - box-shadow: none
                        - border: none
                      name:
                        - font-size: 16px
                        - color: var(--primary-text-color)
                      state:
                        - font-size: 15px
                        - padding-top: 19px
                        - padding-bottom: 19px
                  - type: custom:mini-graph-card
                    entities:
                      - entity: sensor.system_monitor_disk_usage
                        color: '#7798AB'
                    show:
                      name: false
                      icon: false
                      state: false
                      labels: false
                    hours_to_show: 720
                    points_per_hour: 1
                    lower_bound: 1
                    upper_bound: 62.3
                    animate: true
            title: Stats
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:auto-entities
                card:
                  type: entities
                  show_header_toggle: false
                  card_mod:
                    style: |
                      ha-card {
                        font-size: 13px;
                      }
                filter:
                  include:
                    - options:
                        secondary_info: last-updated
                      domain: update
                      state: 'on'
                  exclude:
                    - options: {}
                      entity_id: update.*_backup*
                sort:
                  method: state
                  reverse: true
            title: Updates
            columns: 1
          - type: vertical-stack
            title: System Options
            cards:
              - type: custom:button-card
                tap_action:
                  action: none
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 18px
                    - padding: 5px
                    - background-color: transparent
                  grid:
                    - grid-template-areas: '"button1 button2"'
                    - grid-template-columns: 1fr 1fr
                    - column-gap: 5px
                custom_fields:
                  button1:
                    card:
                      type: custom:button-card
                      name: Restart HA
                      icon: mdi:restart
                      tap_action:
                        action: call-service
                        service: homeassistant.restart
                      confirmation:
                        text: Are you sure you want to restart Home Assistant?
                      styles:
                        card:
                          - background-color: rgba(100, 116, 139, 0.3)
                          - border-radius: 18px
                          - height: 62px
                          - box-shadow: none
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: min-content 1fr
                          - column-gap: 0px
                        icon:
                          - justify-self: center
                          - align-self: center
                          - padding-left: 8px
                        name:
                          - align-self: center
                          - font-size: 15px
                      extra_styles: |
                        ha-card:active {
                          background-color: #3da853;
                        }
                  button2:
                    card:
                      type: custom:button-card
                      name: Restart System
                      icon: mdi:server
                      tap_action:
                        action: call-service
                        service: hassio.host_reboot
                      confirmation:
                        text: Are you sure you want to restart the entire system?
                      styles:
                        card:
                          - background-color: rgba(100, 116, 139, 0.3)
                          - border-radius: 18px
                          - height: 62px
                          - box-shadow: none
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: min-content 1fr
                          - column-gap: 8px
                        icon:
                          - justify-self: center
                          - align-self: center
                          - padding-left: 0px
                        name:
                          - align-self: center
                          - font-size: 15px
                      extra_styles: |
                        ha-card:active {
                          background-color: #3da853;
                        }
                card_mod:
                  style: |
                    ha-card {
                      border: none;
                      box-shadow: none;
                      background: none;
                    }
              - type: custom:button-card
                tap_action:
                  action: none
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 18px
                    - padding-top: 1px
                    - background-color: transparent
                  grid:
                    - grid-template-areas: '"button1"'
                    - grid-template-columns: 1fr
                custom_fields:
                  button1:
                    card:
                      type: custom:button-card
                      name: Power Off System
                      icon: mdi:power
                      tap_action:
                        action: call-service
                        service: hassio.host_shutdown
                      confirmation:
                        text: >
                          Are you sure you want to shut down the system? This
                          action is not easily reversible.
                      styles:
                        card:
                          - background-color: rgba(215, 50, 50, 0.25)
                          - border-radius: 20px
                          - box-shadow: none
                          - height: 62px
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: min-content 1fr
                          - column-gap: 8px
                        icon:
                          - justify-self: center
                          - align-self: center
                          - padding-left: 8px
                        name:
                          - align-self: center
                          - font-size: 15px
                      extra_styles: |
                        ha-card:active {
                          background-color: #d73232; /* Bright red on tap */
                        }
                card_mod:
                  style: |
                    ha-card {
                      border: none;
                      box-shadow: none;
                      background: none;
                    }
    theme: Material You
    badges: []
    background:
      opacity: 100
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: scroll
    header:
      layout: responsive
      badges_position: top
      badges_wrap: wrap
    cards: []
    subview: false
    icon: mdi:home
    top_margin: false
  - type: sections
    max_columns: 1
    path: Climate
    icon: mdi:radiator
    visible: false
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.living_room_temphumid_temperature
                    hours_to_show: 8
                    points_per_hour: 2
                    name: Living Room
                    color_thresholds:
                      - value: 10
                        color: '#126cf3'
                      - value: 15
                        color: '#4da6f3'
                      - value: 17.5
                        color: '#f3a712'
                      - value: 19
                        color: '#f36f12'
                      - value: 21
                        color: '#f34512'
                      - value: 23
                        color: '#f31212'
                    color_thresholds_transition: true
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.toggle_living_room_bt
                    show:
                      labels: false
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.kitchen_average_temperature
                    hours_to_show: 8
                    points_per_hour: 2
                    name: Kitchen
                    color_thresholds:
                      - value: 10
                        color: '#126cf3'
                      - value: 15
                        color: '#4da6f3'
                      - value: 17.5
                        color: '#f3a712'
                      - value: 19
                        color: '#f36f12'
                      - value: 21
                        color: '#f34512'
                      - value: 23
                        color: '#f31212'
                    color_thresholds_transition: true
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.toggle_kitchen_bt
                    show:
                      labels: false
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.toggle_living_room_bt
                        state: 'on'
                    card:
                      type: custom:better-thermostat-ui-card
                      entity: climate.living_room_bt
                      name: Living Room
                      disable_window: true
                      disable_summer: true
                      disable_eco: true
                      disable_off: false
                      disable_buttons: false
                      set_current_as_main: true
                      disable_menu: true
                      disable_heat: false
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.toggle_kitchen_bt
                        state: 'on'
                    card:
                      type: custom:better-thermostat-ui-card
                      name: Kitchen
                      disable_window: true
                      disable_summer: true
                      disable_eco: true
                      disable_off: false
                      disable_buttons: false
                      set_current_as_main: true
                      disable_menu: true
                      disable_heat: false
                      entity: climate.bt_kitchen
              - type: horizontal-stack
                cards:
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.primary_bedroom_temphumid_temperature
                    hours_to_show: 8
                    points_per_hour: 2
                    name: Primary Bedroom
                    color_thresholds:
                      - value: 10
                        color: '#126cf3'
                      - value: 15
                        color: '#4da6f3'
                      - value: 17.5
                        color: '#f3a712'
                      - value: 19
                        color: '#f36f12'
                      - value: 21
                        color: '#f34512'
                      - value: 23
                        color: '#f31212'
                    color_thresholds_transition: true
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.toggle_primary_bedroom_bt
                    show:
                      labels: false
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.guest_bedroom_temperature
                    hours_to_show: 8
                    points_per_hour: 2
                    name: Guest Bedroom
                    color_thresholds:
                      - value: 10
                        color: '#126cf3'
                      - value: 15
                        color: '#4da6f3'
                      - value: 17.5
                        color: '#f3a712'
                      - value: 19
                        color: '#f36f12'
                      - value: 21
                        color: '#f34512'
                      - value: 23
                        color: '#f31212'
                    color_thresholds_transition: true
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.toggle_guest_bedroom_bt
                    show:
                      labels: false
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.toggle_primary_bedroom_bt
                        state: 'on'
                    card:
                      type: custom:better-thermostat-ui-card
                      name: Primary Bedroom
                      disable_window: true
                      disable_summer: true
                      disable_eco: true
                      disable_off: false
                      disable_buttons: false
                      set_current_as_main: true
                      disable_menu: true
                      disable_heat: false
                      entity: climate.primary_bedroom_bt
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.toggle_guest_bedroom_bt
                        state: 'on'
                    card:
                      type: custom:better-thermostat-ui-card
                      name: Guest Bedroom
                      disable_window: true
                      disable_summer: true
                      disable_eco: true
                      disable_off: false
                      disable_buttons: false
                      set_current_as_main: true
                      disable_menu: true
                      disable_heat: false
                      entity: climate.guest_bedroom_bt
              - type: horizontal-stack
                cards:
                  - type: custom:mini-graph-card
                    entities:
                      - sensor.office_temphumid_temperature
                    hours_to_show: 8
                    points_per_hour: 2
                    name: Office
                    color_thresholds:
                      - value: 10
                        color: '#126cf3'
                      - value: 15
                        color: '#4da6f3'
                      - value: 17.5
                        color: '#f3a712'
                      - value: 19
                        color: '#f36f12'
                      - value: 21
                        color: '#f34512'
                      - value: 23
                        color: '#f31212'
                    color_thresholds_transition: true
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.toggle_office_bt
                    show:
                      labels: false
                  - type: custom:mini-graph-card
                    entities: []
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.toggle_office_bt
                        state: 'on'
                    card:
                      type: custom:better-thermostat-ui-card
                      name: Office
                      disable_window: true
                      disable_summer: true
                      disable_eco: true
                      disable_off: false
                      disable_buttons: false
                      set_current_as_main: true
                      disable_menu: true
                      disable_heat: false
                      entity: climate.office_bt
            title: Climate Control
      - '0':
          type: custom:mushroom-climate-card
          entity: climate.living_room_bt
          name: Living Room
          icon: mdi:television
          fill_container: false
          hvac_modes:
            - 'off'
            - heat
          show_temperature_control: false
        cards:
          - square: false
            type: grid
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    entity: weather.pirateweather
                    show_name: false
                    show_icon: false
                    custom_fields:
                      icon: |
                        [[[
                          var weather = states["weather.pirateweather"].state;
                          if (states['weather.pirateweather'].state == 'partlycloudy' && states['sun.sun'].state == 'below_horizon') {
                            return `<img src="/local/weather_icons/partly-cloudy-night.svg" width="90" height="90" />`
                          } else {
                            return `<img src="/local/weather_icons/${weather}.svg" width="90" height="90" />`
                          }
                        ]]]
                      temp: |
                        [[[
                          return states['weather.pirateweather'].attributes.temperature + 'Â°c'
                        ]]]
                      cond: |
                        [[[
                          var time = states["weather.pirateweather"].state;
                          if (time == 'clear-night'){
                            return 'Clear';
                          } else if (time == 'clear'){
                            return 'Sunny';
                          } else if (time == 'partlycloudy'){
                            return 'Partly Cloudy';
                          } else {
                            return states["weather.pirateweather"].state;
                          }
                        ]]]
                    styles:
                      card:
                        - position: relative
                        - height: 120pt
                      custom_fields:
                        icon:
                          - position: absolute
                          - top: 30%
                          - left: 50%
                          - right: 50%
                          - transform: translate(-50%, -50%)
                          - width: 90px
                          - height: 90px
                        temp:
                          - position: absolute
                          - top: 64%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - width: 100%
                          - text-align: center
                          - font-size: 23pt
                          - font-weight: 700
                        cond:
                          - position: absolute
                          - top: 80%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - width: 100%
                          - text-align: center
                          - font-size: 10pt
                          - text-transform: capitalize
                  - type: custom:button-card
                    entity: weather.pirateweather
                    show_name: false
                    show_icon: false
                    custom_fields:
                      icon_humidity: >
                        <ha-icon icon="mdi:water-outline" style="width:60px;
                        height:60px;"></ha-icon>
                      humidity: |
                        [[[
                          return states["weather.pirateweather"].attributes.humidity + '%'
                        ]]]
                    styles:
                      card:
                        - position: relative
                        - height: 120pt
                      custom_fields:
                        icon_humidity:
                          - position: absolute
                          - top: 35%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                        humidity:
                          - position: absolute
                          - top: 70%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - font-size: 18pt
                          - font-weight: 600
                  - type: custom:button-card
                    entity: weather.pirateweather
                    show_name: false
                    show_icon: false
                    custom_fields:
                      icon_wind: >
                        <ha-icon icon="mdi:weather-windy" style="width:40px;
                        height:40px;"></ha-icon>
                      wind: |
                        [[[
                          let myNumber = states["weather.pirateweather"].attributes.wind_speed;
                          return `${Math.round(myNumber)} km/h`;
                        ]]]
                    styles:
                      card:
                        - position: relative
                        - height: 120pt
                      custom_fields:
                        icon_wind:
                          - position: absolute
                          - top: 35%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                        wind:
                          - position: absolute
                          - top: 70%
                          - left: 50%
                          - transform: translate(-50%, -50%)
                          - font-size: 18pt
                          - font-weight: 600
            columns: 1
            title: Weather
            view_layout:
              grid-area: lights
          - type: custom:button-card
            name: Looks like you've reached the end ðŸ‘€
            styles:
              card:
                - background: none
                - box-shadow: none
                - border: none
              name:
                - opacity: 60%
                - font-size: 16px
      - type: grid
        cards:
          - type: custom:navbar-card
            iphone: null
            show_labels: true
            desktop: null
            position: left
            min_width: 768
            layout: null
            auto_padding: true
            routes:
              - url: /dashboard-iphone/Home
                icon: mdi:home
                icon_selected: mdi:home-variant
                label: Home
              - url: /dashboard-iphone/Climate
                icon: mdi:radiator
                label: Climate
              - url: /dashboard-iphone/System
                icon: mdi:server
                label: Proxmox
              - url: /dashboard-iphone/timeflows
                icon: mdi:timer
                label: Timeflows
            mobile:
              mode: floating
    header:
      layout: responsive
      badges_position: top
      badges_wrap: wrap
    cards: []
    background:
      opacity: 100
      alignment: center
      size: cover
      repeat: repeat
      attachment: fixed
  - type: sections
    max_columns: 1
    dense_section_placement: false
    path: System
    title: System
    visible: false
    sections:
      - type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:vertical-stack-in-card
                cards:
                  - type: custom:button-card
                    template: entity
                    entity: sensor.system_monitor_processor_use
                    name: CPU Usage
                    styles:
                      card:
                        - height: 100px
                        - padding: 12px 16px
                        - background: var(--card-background-color)
                        - border-radius: 12px 12px 0 0
                        - box-shadow: none
                        - border: none
                      name:
                        - font-size: 16px
                        - color: var(--primary-text-color)
                      state:
                        - font-size: 15px
                        - padding-top: 19px
                        - padding-bottom: 19px
                  - type: custom:mini-graph-card
                    entities:
                      - entity: sensor.system_monitor_processor_use
                    show:
                      name: false
                      icon: false
                      state: false
                      labels: false
                    line_width: 3
                    hours_to_show: 2
                    points_per_hour: 5
                    line_color: '#F9EA9A'
                    animate: true
              - type: custom:vertical-stack-in-card
                cards:
                  - type: custom:button-card
                    template: entity
                    entity: sensor.system_monitor_memory_usage
                    state_display: |
                      [[[
                        return states['sensor.system_monitor_memory_usage'].state + '%'
                      ]]]
                    name: Memory Usage
                    styles:
                      card:
                        - height: 100px
                        - padding: 12px 16px
                        - background: var(--card-background-color)
                        - border-radius: 12px 12px 0 0
                        - box-shadow: none
                        - border: none
                      name:
                        - font-size: 16px
                        - color: var(--primary-text-color)
                      state:
                        - font-size: 15px
                        - padding-top: 19px
                        - padding-bottom: 19px
                  - type: custom:mini-graph-card
                    entities:
                      - entity: sensor.system_monitor_memory_usage
                    show:
                      name: false
                      icon: false
                      state: false
                      labels: false
                    line_width: 3
                    hours_to_show: 2
                    points_per_hour: 5
                    line_color: '#F2CEE6'
                    animate: true
                    style: ''
              - type: custom:vertical-stack-in-card
                cards:
                  - type: custom:button-card
                    template: entity
                    entity: sensor.system_monitor_load_15_min
                    name: Load (15 MIns)
                    styles:
                      card:
                        - height: 100px
                        - padding: 12px 16px
                        - background: var(--card-background-color)
                        - border-radius: 12px 12px 0 0
                        - box-shadow: none
                        - border: none
                      name:
                        - font-size: 16px
                        - color: var(--primary-text-color)
                      state:
                        - font-size: 15px
                        - padding-top: 19px
                        - padding-bottom: 19px
                  - type: custom:mini-graph-card
                    entities:
                      - entity: sensor.system_monitor_load_15_min
                    show:
                      name: false
                      icon: false
                      state: false
                      labels: false
                    line_width: 3
                    hours_to_show: 2
                    points_per_hour: 5
                    line_color: '#C3DBC5'
                    animate: true
              - type: custom:vertical-stack-in-card
                cards:
                  - type: custom:button-card
                    template: entity
                    entity: sensor.system_monitor_disk_usage
                    state_display: |
                      [[[
                        return states['sensor.system_monitor_disk_usage'].state + ' %'
                      ]]]
                    name: Storage Used
                    icon: mdi:harddisk
                    styles:
                      card:
                        - height: 100px
                        - padding: 12px 16px
                        - background: var(--card-background-color)
                        - border-radius: 12px 12px 0 0
                        - box-shadow: none
                        - border: none
                      name:
                        - font-size: 16px
                        - color: var(--primary-text-color)
                      state:
                        - font-size: 15px
                        - padding-top: 19px
                        - padding-bottom: 19px
                  - type: custom:mini-graph-card
                    entities:
                      - entity: sensor.system_monitor_disk_usage
                        color: '#7798AB'
                    show:
                      name: false
                      icon: false
                      state: false
                      labels: false
                    hours_to_show: 720
                    points_per_hour: 1
                    lower_bound: 1
                    upper_bound: 62.3
                    animate: true
            title: Stats
            columns: 2
          - square: false
            type: grid
            cards:
              - type: custom:auto-entities
                card:
                  type: entities
                  show_header_toggle: false
                  card_mod:
                    style: |
                      ha-card {
                        font-size: 13px;
                      }
                filter:
                  include:
                    - options:
                        secondary_info: last-updated
                      domain: update
                      state: 'on'
                  exclude:
                    - options: {}
                      entity_id: update.*_backup*
                sort:
                  method: state
                  reverse: true
            title: Updates
            columns: 1
      - type: grid
        cards:
          - type: vertical-stack
            title: System Options
            cards:
              - type: custom:button-card
                tap_action:
                  action: none
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 18px
                    - padding: 5px
                    - background-color: transparent
                  grid:
                    - grid-template-areas: '"button1 button2"'
                    - grid-template-columns: 1fr 1fr
                    - column-gap: 5px
                custom_fields:
                  button1:
                    card:
                      type: custom:button-card
                      name: Restart HA
                      icon: mdi:restart
                      tap_action:
                        action: call-service
                        service: homeassistant.restart
                      confirmation:
                        text: Are you sure you want to restart Home Assistant?
                      styles:
                        card:
                          - background-color: rgba(100, 116, 139, 0.3)
                          - border-radius: 18px
                          - height: 62px
                          - box-shadow: none
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: min-content 1fr
                          - column-gap: 0px
                        icon:
                          - justify-self: center
                          - align-self: center
                          - padding-left: 8px
                        name:
                          - align-self: center
                          - font-size: 15px
                      extra_styles: |
                        ha-card:active {
                          background-color: #3da853;
                        }
                  button2:
                    card:
                      type: custom:button-card
                      name: Restart System
                      icon: mdi:server
                      tap_action:
                        action: call-service
                        service: hassio.host_reboot
                      confirmation:
                        text: Are you sure you want to restart the entire system?
                      styles:
                        card:
                          - background-color: rgba(100, 116, 139, 0.3)
                          - border-radius: 18px
                          - height: 62px
                          - box-shadow: none
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: min-content 1fr
                          - column-gap: 8px
                        icon:
                          - justify-self: center
                          - align-self: center
                          - padding-left: 0px
                        name:
                          - align-self: center
                          - font-size: 15px
                      extra_styles: |
                        ha-card:active {
                          background-color: #3da853;
                        }
                card_mod:
                  style: |
                    ha-card {
                      border: none;
                      box-shadow: none;
                      background: none;
                    }
              - type: custom:button-card
                tap_action:
                  action: none
                show_name: false
                show_icon: false
                styles:
                  card:
                    - border-radius: 18px
                    - padding-top: 1px
                    - background-color: transparent
                  grid:
                    - grid-template-areas: '"button1"'
                    - grid-template-columns: 1fr
                custom_fields:
                  button1:
                    card:
                      type: custom:button-card
                      name: Power Off System
                      icon: mdi:power
                      tap_action:
                        action: call-service
                        service: hassio.host_shutdown
                      confirmation:
                        text: >
                          Are you sure you want to shut down the system? This
                          action is not easily reversible.
                      styles:
                        card:
                          - background-color: rgba(215, 50, 50, 0.25)
                          - border-radius: 20px
                          - box-shadow: none
                          - height: 62px
                        grid:
                          - grid-template-areas: '"i n"'
                          - grid-template-columns: min-content 1fr
                          - column-gap: 8px
                        icon:
                          - justify-self: center
                          - align-self: center
                          - padding-left: 8px
                        name:
                          - align-self: center
                          - font-size: 15px
                      extra_styles: |
                        ha-card:active {
                          background-color: #d73232; /* Bright red on tap */
                        }
                card_mod:
                  style: |
                    ha-card {
                      border: none;
                      box-shadow: none;
                      background: none;
                    }
          - type: custom:navbar-card
            iphone: null
            show_labels: true
            desktop: null
            position: left
            min_width: 768
            layout: null
            auto_padding: true
            routes:
              - url: /dashboard-iphone/Home
                icon: mdi:home
                icon_selected: mdi:home-variant
                label: Home
              - url: /dashboard-iphone/Climate
                icon: mdi:radiator
                label: Climate
              - url: /dashboard-iphone/System
                icon: mdi:server
                label: Proxmox
              - url: /dashboard-iphone/timeflows
                icon: mdi:timer
                label: Timeflows
            mobile:
              mode: floating
          - type: custom:button-card
            name: |
              [[[
                return "HA Core v" + states['update.home_assistant_core_update'].attributes.installed_version + ", Supervisor v" + states['update.home_assistant_supervisor_update'].attributes.installed_version;
              ]]]
            styles:
              card:
                - background: none
                - box-shadow: none
                - border: none
              name:
                - opacity: 60%
                - font-size: 16px
      - type: grid
        cards:
          - square: false
            type: grid
            cards:
              - type: custom:button-card
                entity: switch.linux_pc
                icon: mdi:desktop-tower
                name: Proxmox
                aspect_ratio: 1/1
                label: >
                  [[[ return states['switch.linux_pc'].state === 'on' ? 'On' :
                  'Off'; ]]]
                show_name: true
                show_label: true
                show_icon: true
                tap_action:
                  action: call-service
                  service: switch.toggle
                  target:
                    entity_id: switch.linux_pc
                  confirmation:
                    text: |
                      [[[
                        return entity.state === 'off'
                          ? 'Do you want to start Proxmox?'
                          : 'Do you want to stop Proxmox?';
                      ]]]
                styles:
                  name:
                    - font-size: 12px
                    - padding-bottom: 3px !important;
                  state:
                    - font-size: 18px
                    - padding-bottom: 8px !important;
                state:
                  - value: 'on'
                    styles:
                      card:
                        - background-color: var(--primary-text-color)
                      name:
                        - color: '#263238'
                      label:
                        - color: '#263238'
                      icon:
                        - color: |
                            [[[
                              if (entity.attributes.rgb_color) {
                                return `rgb(${entity.attributes.rgb_color.join(',')})`;
                              }
                              return 'black';
                            ]]]
              - type: custom:button-card
                entity: switch.10amp_smart_plug_socket_1
                icon: mdi:desktop-tower
                name: Remote Server
                aspect_ratio: 1/1
                label: >
                  [[[ return states['switch.10amp_smart_plug_socket_1'].state
                  === 'on' ? 'On' : 'Off'; ]]]
                show_name: true
                show_label: true
                show_icon: true
                tap_action:
                  action: call-service
                  service: switch.toggle
                  target:
                    entity_id: switch.10amp_smart_plug_socket_1
                  confirmation:
                    text: |
                      [[[
                        return entity.state === 'off'
                          ? 'Do you want to start Remote Server?'
                          : 'Do you want to stop Remote Server?';
                      ]]]
                styles:
                  name:
                    - font-size: 12px
                    - padding-bottom: 3px !important;
                  state:
                    - font-size: 18px
                    - padding-bottom: 8px !important;
                state:
                  - value: 'on'
                    styles:
                      card:
                        - background-color: var(--primary-text-color)
                      name:
                        - color: '#263238'
                      label:
                        - color: '#263238'
                      icon:
                        - color: |
                            [[[
                              if (entity.attributes.rgb_color) {
                                return `rgb(${entity.attributes.rgb_color.join(',')})`;
                              }
                              return 'black';
                            ]]]
              - type: custom:button-card
                entity: switch.ubuntu_pc
                icon: mdi:desktop-tower
                name: Ubuntu PC
                aspect_ratio: 1/1
                label: >
                  [[[ return states['switch.ubuntu_pc'].state === 'on' ? 'On' :
                  'Off'; ]]]
                show_name: true
                show_label: true
                show_icon: true
                tap_action:
                  action: call-service
                  service: switch.toggle
                  target:
                    entity_id: switch.ubuntu_pc
                  confirmation:
                    text: |
                      [[[
                        return entity.state === 'off'
                          ? 'Do you want to start Ubuntu PC?'
                          : 'Do you want to stop Ubuntu PC?';
                      ]]]
                styles:
                  name:
                    - font-size: 12px
                    - padding-bottom: 3px !important;
                  state:
                    - font-size: 18px
                    - padding-bottom: 8px !important;
                state:
                  - value: 'on'
                    styles:
                      card:
                        - background-color: var(--primary-text-color)
                      name:
                        - color: '#263238'
                      label:
                        - color: '#263238'
                      icon:
                        - color: |
                            [[[
                              if (entity.attributes.rgb_color) {
                                return `rgb(${entity.attributes.rgb_color.join(',')})`;
                              }
                              return 'black';
                            ]]]
            title: Servers
            columns: 3
          - square: false
            type: grid
            cards:
              - type: entities
                entities:
                  - entity: sensor.system_monitor_ipv4_address_enp1s0
                    name: Current IP Address
                    secondary_info: none
                  - entity: sensor.system_monitor_ipv4_address_tailscale0
                    name: Tailscale IP Address
                  - entity: binary_sensor.tailscale_running
                    name: Tailscale
                    icon: phu:tailscale
                    secondary_info: none
                  - entity: binary_sensor.adguard_home_running
                    icon: phu:adguard
                    name: Dns
            title: Network
            columns: 1
    theme: Material You
    badges: []
    background:
      opacity: 100
      alignment: center
      size: cover
      repeat: no-repeat
      attachment: scroll
    header:
      layout: responsive
      badges_position: top
      badges_wrap: scroll
    cards: []
    subview: false
    icon: mdi:account-group
  - type: sections
    max_columns: 1
    path: timeflows
    visible: false
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Track the time
            heading_style: title
            icon: mdi:clock-time-eight
          - square: false
            type: grid
            cards:
              - type: custom:timeflow-card
                title: Year
                subtitle: |-
                  {{ (((now().timetuple().tm_yday - 1) * 24 + now().hour) /
                      ((now().replace(month=12, day=31) - now().replace(month=1, day=1)).days * 24)
                     * 100) | round(1) }}%
                target_date: >-
                  {{ now().replace(month=12, day=31, hour=23, minute=59,
                  second=59).strftime('%Y-%m-%dT%H:%M:%S') }}
                creation_date: >-
                  {{ now().replace(month=1, day=1, hour=0, minute=0,
                  second=0).strftime('%Y-%m-%dT%H:%M:%S') }}
                show_days: true
                show_hours: false
                show_minutes: false
                show_seconds: false
                color: '#34332D'
                background_color: '#B6B69E'
                progress_color: '#FEBC4C'
                stroke_width: 6
                card_mod:
                  style:
                    .: |
                      ha-card .title {
                        font-size: 1.2rem !important;
                      }
                      ha-card .subtitle {
                        font-size: 2rem !important;
                      }
                      ha-card .card-content {
                        display: flex !important;
                        flex-direction: row !important;
                        align-items: center !important;
                        justify-content: space-between !important;
                      }
                      ha-card .header {
                        margin-bottom: 0 !important;
                      }
                      ha-card .content {
                        margin-top: 0 !important;
                      }
                      ha-card {
                        border-radius: 28px !important;
                        box-shadow: none !important;
                        border: none !important;
                       }
              - type: custom:timeflow-card
                title: Month
                subtitle: |-
                  {{ (((now().day - 1) * 24 + now().hour) /
                      ((now().replace(month=now().month % 12 + 1, day=1) - now().replace(day=1)).days * 24)
                     * 100) | round() }}%
                target_date: >-
                  {% set next_month = (now().replace(day=28) +
                  timedelta(days=4)).replace(day=1) %} {{ (next_month -
                  timedelta(seconds=1)).strftime('%Y-%m-%dT%H:%M:%S') }}
                creation_date: >-
                  {{ now().replace(day=1, hour=0, minute=0,
                  second=0).strftime('%Y-%m-%dT%H:%M:%S') }}
                show_days: true
                show_hours: false
                show_minutes: false
                show_seconds: false
                color: '#FEBC4C'
                background_color: '#5B5B43'
                progress_color: '#E15603'
                stroke_width: 6
                card_mod:
                  style:
                    .: |
                      ha-card .title {
                        font-size: 1.2rem !important;
                      }
                      ha-card .subtitle {
                        font-size: 2rem !important;
                      }
                      ha-card .card-content {
                        display: flex !important;
                        flex-direction: row !important;
                        align-items: center !important;
                        justify-content: space-between !important;
                      }
                      ha-card .header {
                        margin-bottom: 0 !important;
                      }
                      ha-card .content {
                        margin-top: 0 !important;
                      }
                      ha-card {
                        border-radius: 28px !important;
                        box-shadow: none !important;
                        border: none !important;
                       }
              - type: custom:timeflow-card
                title: Week
                subtitle: >-
                  {{ ((now().weekday() * 24 + now().hour) / (7 * 24) * 100) |
                  round }}%
                target_date: >-
                  {{ (now() + timedelta(days=(6 -
                  now().weekday()))).replace(hour=23, minute=59,
                  second=59).strftime('%Y-%m-%dT%H:%M:%S') }}
                creation_date: >-
                  {{ (now() - timedelta(days=now().weekday())).replace(hour=0,
                  minute=0, second=0).strftime('%Y-%m-%dT%H:%M:%S') }}
                show_days: true
                show_hours: false
                show_minutes: false
                show_seconds: false
                color: '#000001'
                background_color: '#596E67'
                progress_color: '#9CABA8'
                stroke_width: 6
                card_mod:
                  style:
                    .: |
                      ha-card .title {
                        font-size: 1.2rem !important;
                      }
                      ha-card .subtitle {
                        font-size: 2rem !important;
                      }
                      ha-card .card-content {
                        display: flex !important;
                        flex-direction: row !important;
                        align-items: center !important;
                        justify-content: space-between !important;
                      }
                      ha-card .header {
                        margin-bottom: 0 !important;
                      }
                      ha-card .content {
                        margin-top: 0 !important;
                      }
                      ha-card {
                        border-radius: 28px !important;
                        box-shadow: none !important;
                        border: none !important;
                       }
              - type: custom:timeflow-card
                title: Today
                subtitle: ' {{ (now().hour / 24 * 100) | round() }}%'
                target_date: >-
                  {{ (now().replace(hour=23, minute=59,
                  second=59)).strftime('%Y-%m-%dT%H:%M:%S') }}
                creation_date: >-
                  {{ now().replace(hour=0, minute=0,
                  second=0).strftime('%Y-%m-%dT%H:%M:%S') }}
                show_days: false
                show_hours: true
                show_minutes: true
                show_seconds: true
                color: '#30341D'
                background_color: '#E6E8D7'
                progress_color: '#FB8200'
                stroke_width: 6
                card_mod:
                  style:
                    .: |
                      ha-card .title {
                        font-size: 1.2rem !important;
                      }
                      ha-card .subtitle {
                        font-size: 2rem !important;
                      }
                      ha-card .card-content {
                        display: flex !important;
                        flex-direction: row !important;
                        align-items: center !important;
                        justify-content: space-between !important;
                      }
                      ha-card .header {
                        margin-bottom: 0 !important;
                      }
                      ha-card .content {
                        margin-top: 0 !important;
                      }
                      ha-card {
                        border-radius: 28px !important;
                        box-shadow: none !important;
                        border: none !important;
                      }
                    progress-circle$: |
                      .progress-bg {
                        stroke: #C4CCA4 !important; /* Dark gray background track */
                      }
            columns: 2
            view_layout:
              grid-area: lights
        column_span: 1
      - type: grid
        cards:
          - type: heading
            heading: Birthdays
            heading_style: title
            icon: mdi:cake-variant-outline
          - square: false
            type: grid
            cards:
              - type: custom:timeflow-card-beta
                title: >-
                  {% set person_name = "Rishi" %} {% set birth_year = 1999 %} {%
                  set birthday_month = 8 %} {% set birthday_day = 31 %} {% set
                  current_date = now() %} {% set this_year_birthday =
                  current_date.replace(month=birthday_month, day=birthday_day,
                  hour=0, minute=0, second=0, microsecond=0) %} {% if
                  current_date > this_year_birthday %}
                    {% set next_birthday = this_year_birthday.replace(year=this_year_birthday.year + 1) %}
                  {% else %}
                    {% set next_birthday = this_year_birthday %}
                  {% endif %} {% set age = next_birthday.year - birth_year %} {{
                  person_name }}'s {{ age }}{{ 
                    'st' if age % 10 == 1 and age % 100 != 11 else
                    'nd' if age % 10 == 2 and age % 100 != 12 else
                    'rd' if age % 10 == 3 and age % 100 != 13 else
                    'th'
                  }} Birthday
                target_date: >-
                  {% set birthday_month = 8 %} {% set birthday_day = 31 %} {%
                  set current_date = now() %} {% set this_year_birthday =
                  current_date.replace(month=birthday_month, day=birthday_day,
                  hour=0, minute=0, second=0, microsecond=0) %} {% if
                  current_date > this_year_birthday %}
                    {% set next_birthday = this_year_birthday.replace(year=this_year_birthday.year + 1) %}
                  {% else %}
                    {% set next_birthday = this_year_birthday %}
                  {% endif %} {{ next_birthday.isoformat() }}
                creation_date: >-
                  {% set current_date = now() %} {% set start_of_year =
                  current_date.replace(month=1, day=1, hour=0, minute=0,
                  second=0, microsecond=0) %} {{ start_of_year.isoformat() }}
                show_days: true
                show_hours: true
                show_minutes: true
                show_seconds: false
                color: >-
                  {% set birthday_month = 8 %} {% set birthday_day = 31 %} {%
                  set current_date = now() %} {% set this_year_birthday =
                  current_date.replace(month=birthday_month, day=birthday_day,
                  hour=0, minute=0, second=0, microsecond=0) %} {% if
                  current_date > this_year_birthday %}
                    {% set next_birthday = this_year_birthday.replace(year=this_year_birthday.year + 1) %}
                  {% else %}
                    {% set next_birthday = this_year_birthday %}
                  {% endif %} {% set days_until = (next_birthday -
                  current_date).days %} {% if days_until == 0 %}
                    #FF6B6B
                  {% elif days_until <= 7 %}
                    #4ECDC4
                  {% elif days_until <= 30 %}
                    #45B7D1
                  {% else %}
                    #96CEB4
                  {% endif %}
                background_color: '#2C3150'
                progress_color: '#D0CFCF'
                height: 245
                stroke_width: 6
                card_mod:
                  style: |
                    ha-card .title {
                      font-size: 2.2rem;
                    }
                    ha-card .subtitle {
                      font-size: 2.0rem;
                    }
                    ha-card {
                      border-radius: 28px !important;
                      box-shadow: none !important;
                      border: none !important;
                     }
                grid_options:
                  columns: 12
            columns: 1
            view_layout:
              grid-area: lights
      - type: grid
        cards:
          - type: heading
            heading: Chores
            heading_style: title
            icon: mdi:trash-can-outline
          - type: grid
            square: false
            columns: 2
            cards:
              - type: custom:timeflow-card
                title: Empty trash
                target_date: '2025-10-20T18:00:00'
                creation_date: '2025-08-17T18:00:00'
                background_color: '#5b4130'
                color: '#ffdbc7'
                progress_color: '#e5bfa9'
                show_months: false
                show_days: true
                show_hours: true
                show_minutes: true
                expired_text: Trash emptied
                stroke_width: 6
                card_mod:
                  style:
                    .: |
                      ha-card .title {
                        font-size: 1.2rem !important;
                      }
                      ha-card .subtitle {
                        font-size: 1.2rem !important;
                      }
                      ha-card .card-content {
                        display: flex !important;
                        flex-direction: row !important;
                        align-items: center !important;
                        justify-content: space-between !important;
                      }
                      ha-card .header {
                        margin-bottom: 0 !important;
                      }
                      ha-card .content {
                        margin-top: 0 !important;
                      }
                      ha-card {
                        border-radius: 28px !important;
                        box-shadow: none !important;
                        border: none !important;
                      }
              - type: custom:timeflow-card
                title: Laundry Timer
                target_date: '2025-08-19T13:14:00'
                creation_date: '2025-08-19T12:34:00'
                background_color: '#004f54'
                color: '#9df0f8'
                show_minutes: true
                progress_color: '#9df0f8'
                expired_text: Washing Completed
                stroke_width: 6
                card_mod:
                  style:
                    .: |
                      ha-card .title {
                        font-size: 1.2rem !important;
                      }
                      ha-card .subtitle {
                        font-size: 1.2rem !important;
                      }
                      ha-card .card-content {
                        display: flex !important;
                        flex-direction: row !important;
                        align-items: center !important;
                        justify-content: space-between !important;
                      }
                      ha-card .header {
                        margin-bottom: 0 !important;
                      }
                      ha-card .content {
                        margin-top: 0 !important;
                      }
                      ha-card {
                        border-radius: 28px !important;
                        box-shadow: none !important;
                        border: none !important;
                      }
              - type: custom:timeflow-card
                title: Dishwasher Timer
                target_date: '2025-08-19T12:15:00'
                creation_date: '2025-08-19T11:00:00'
                background_color: '#374764'
                color: '#f4fafd'
                show_minutes: true
                progress_color: '#f4fafd'
                expired_text: Completed
                stroke_width: 6
                card_mod:
                  style:
                    .: |
                      ha-card .title {
                        font-size: 1.2rem !important;
                      }
                      ha-card .subtitle {
                        font-size: 1.2rem !important;
                      }
                      ha-card .card-content {
                        display: flex !important;
                        flex-direction: row !important;
                        align-items: center !important;
                        justify-content: space-between !important;
                      }
                      ha-card .header {
                        margin-bottom: 0 !important;
                      }
                      ha-card .content {
                        margin-top: 0 !important;
                      }
                      ha-card {
                        border-radius: 28px !important;
                        box-shadow: none !important;
                        border: none !important;
                      }
              - type: custom:timeflow-card
                title: Grocery Shopping
                target_date: '2025-08-23T13:14:00'
                creation_date: '2025-08-17T12:34:00'
                background_color: '#48491e'
                color: '#e6e6ad'
                show_days: true
                progress_color: '#e6e6ad'
                expired_text: Time to shop!
                stroke_width: 6
                card_mod:
                  style:
                    .: |
                      ha-card .title {
                        font-size: 1.2rem !important;
                      }
                      ha-card .subtitle {
                        font-size: 1.2rem !important;
                      }
                      ha-card .card-content {
                        display: flex !important;
                        flex-direction: row !important;
                        align-items: center !important;
                        justify-content: space-between !important;
                      }
                      ha-card .header {
                        margin-bottom: 0 !important;
                      }
                      ha-card .content {
                        margin-top: 0 !important;
                      }
                      ha-card {
                        border-radius: 28px !important;
                        box-shadow: none !important;
                        border: none !important;
                      }
          - type: custom:navbar-card
            iphone: null
            show_labels: true
            desktop: null
            position: left
            min_width: 768
            layout: null
            auto_padding: true
            routes:
              - url: /dashboard-iphone/Home
                icon: mdi:home
                icon_selected: mdi:home-variant
                label: Home
              - url: /dashboard-iphone/Climate
                icon: mdi:radiator
                label: Climate
              - url: /dashboard-iphone/System
                icon: mdi:server
                label: Proxmox
              - url: /dashboard-iphone/timeflows
                icon: mdi:timer
                label: Timeflows
            mobile:
              mode: floating
    header: {}
    cards: []
    theme: Material You
    icon: mdi:clock
